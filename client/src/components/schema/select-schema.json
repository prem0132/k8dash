{
    "type":"object",
    "definitions":{
        "metadata":{
            "$id":"#/definitions/metadata",
            "type":"object",
            "title":"Metadata",
            "required":[
                "name",
                "namespace"
            ],
            "properties":{
                "name":{
                    "$id":"#/definitions/metadata/properties/name",
                    "type":"string",
                    "title":"Name",
                    "default":"",
                    "examples":[
                        "sql-server-test-100120-143707"
                    ],
                    "pattern":"^(.*)$"
                },
                "namespace":{
                    "$id":"#/definitions/metadata/properties/namespace",
                    "type":"string",
                    "title":"Namespace",
                    "default":"",
                    "examples":[
                        "knerrir"
                    ],
                    "pattern":"^(.*)$"
                }
            }
        },
        "waybill":{
            "$id":"#/properties/waybill",
            "type":"object",
            "title":"Waybill",
            "required":[
                "loader",
                "unloaders"
            ],
            "properties":{
                "loader":{
                    "$id":"#/properties/waybill/properties/loader",
                    "type":"object",
                    "title":"Loader",
                    "required":[
                        "configuration",
                        "system"
                    ],
                    "properties":{
                        "configuration":{
                            "$id":"#/properties/waybill/properties/loader/properties/configuration",
                            "type":"object",
                            "title":"Configuration",
                            "properties":{
                                "chunk_size":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/chunk_size",
                                    "type":"integer",
                                    "title":"Chunk_size",
                                    "default":0,
                                    "examples":[
                                        100000
                                    ]
                                },
                                "db":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/db",
                                    "type":"string",
                                    "title":"Db",
                                    "default":"",
                                    "examples":[
                                        "GALIOM_MUR_LIVE"
                                    ],
                                    "pattern":"^(.*)$"
                                },
                                "host":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/host",
                                    "type":"string",
                                    "title":"Host",
                                    "default":"",
                                    "examples":[
                                        "10.8.33.95"
                                    ],
                                    "pattern":"^(.*)$"
                                },
                                "load_type":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/load_type",
                                    "type":"string",
                                    "title":"Load_type",
                                    "default":"",
                                    "examples":[
                                        "full"
                                    ],
                                    "pattern":"^(.*)$"
                                },
                                "loader_type":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/loader_type",
                                    "type":"string",
                                    "title":"Loader_type",
                                    "default":"",
                                    "examples":[
                                        "cursors"
                                    ],
                                    "pattern":"^(.*)$"
                                },
                                "password":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/password",
                                    "type":"string",
                                    "title":"Password",
                                    "default":"",
                                    "examples":[
                                        "galiomsa"
                                    ],
                                    "pattern":"^(.*)$"
                                },
                                "port":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/port",
                                    "type":"integer",
                                    "title":"Port",
                                    "default":0,
                                    "examples":[
                                        1433
                                    ]
                                },
                                "tables":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/tables",
                                    "type":"array",
                                    "title":"Tables",
                                    "items":{
                                        "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/tables/items",
                                        "type":"string",
                                        "title":"Items",
                                        "default":"",
                                        "examples":[
                                            "AR_CLASS_LINK_T"
                                        ],
                                        "pattern":"^(.*)$"
                                    }
                                },
                                "user":{
                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/user",
                                    "type":"string",
                                    "title":"User",
                                    "default":"",
                                    "examples":[
                                        "galiom"
                                    ],
                                    "pattern":"^(.*)$"
                                }
                            }
                        },
                        "system":{
                            "$id":"#/properties/waybill/properties/loader/properties/system",
                            "type":"string",
                            "title":"System",
                            "default":"",
                            "examples":[
                                "mssql"
                            ],
                            "pattern":"^(.*)$"
                        }
                    }
                },
                "unloaders":{
                    "$id":"#/properties/waybill/properties/unloaders",
                    "type":"array",
                    "title":"Unloaders",
                    "items":{
                        "$id":"#/properties/waybill/properties/unloaders/items",
                        "type":"object",
                        "title":"Items",
                        "required":[
                            "configuration",
                            "system"
                        ],
                        "properties":{
                            "configuration":{
                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration",
                                "type":"object",
                                "title":"Configuration",
                                "properties":{
                                    "dataset":{
                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/dataset",
                                        "type":"string",
                                        "title":"Dataset",
                                        "default":"",
                                        "examples":[
                                            "GALIOM_MUR_LIVE"
                                        ],
                                        "pattern":"^(.*)$"
                                    },
                                    "location":{
                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/location",
                                        "type":"string",
                                        "title":"Location",
                                        "default":"",
                                        "examples":[
                                            "asia-southeast1"
                                        ],
                                        "pattern":"^(.*)$"
                                    },
                                    "project_id":{
                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/project_id",
                                        "type":"string",
                                        "title":"Project_id",
                                        "default":"",
                                        "examples":[
                                            "gcp-my-th-it-dev"
                                        ],
                                        "pattern":"^(.*)$"
                                    },
                                    "table":{
                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/table",
                                        "type":"string",
                                        "title":"Table",
                                        "default":"",
                                        "examples":[
                                            "AR_CLASS_LINK_T_bq"
                                        ],
                                        "pattern":"^(.*)$"
                                    },
                                    "write_type":{
                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/write_type",
                                        "type":"string",
                                        "title":"Write_type",
                                        "default":"",
                                        "examples":[
                                            "overwrite"
                                        ],
                                        "pattern":"^(.*)$"
                                    }
                                }
                            },
                            "system":{
                                "$id":"#/properties/waybill/properties/unloaders/items/properties/system",
                                "type":"string",
                                "title":"System",
                                "default":"",
                                "examples":[
                                    "bq"
                                ],
                                "pattern":"^(.*)$"
                            },
                            "external":{
                                "type":"object",
                                "properties":{
                                    "create":{
                                        "type":"boolean"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "properties":{
        "Knerrir":{
            "title":"Knerrir",
            "description":"Form for creating Knerrir",
            "type":"object",
            "properties":{
                "apiVersion":{
                    "type":"string",
                    "default":"knerrir.hashmapinc.com/v1alpha1"
                },
                "kind":{
                    "type":"string",
                    "default": "Knerrir"
                },
                "metadata":{
                    "$id":"#/definitions/metadata",
                    "type":"object",
                    "title":"Metadata",
                    "required":[
                        "name",
                        "namespace"
                    ],
                    "properties":{
                        "name":{
                            "$id":"#/definitions/metadata/properties/name",
                            "type":"string",
                            "title":"Name",
                            "default":"",
                            "examples":[
                                "sql-server-test-100120-143707"
                            ],
                            "pattern":"^(.*)$"
                        },
                        "namespace":{
                            "$id":"#/definitions/metadata/properties/namespace",
                            "type":"string",
                            "title":"Namespace",
                            "default": "knerrir",
                            "examples":[
                                "knerrir"
                            ],
                            "pattern":"^(.*)$"
                        }
                    }
                },
                "spec":{
                    "type":"object",
                    "properties":{
                        "image":{
                            "type":"string",
                            "default": "asia.gcr.io/gcp-my-th-it-dev/knerrir:alpha"
                        },
                        "nodeSelector":{
                            "type":"object",
                            "properties":{
                                "nodetype":{
                                    "type":"string",
                                    "default": "ingestion-jobs"
                                }
                            }
                        },
                        "waybill":{
                            "$id":"#/properties/waybill",
                            "type":"object",
                            "title":"Waybill",
                            "required":[
                                "loader",
                                "unloaders"
                            ],
                            "properties":{
                                "loader":{
                                    "$id":"#/properties/waybill/properties/loader",
                                    "type":"object",
                                    "title":"Loader",
                                    "required":[
                                        "configuration",
                                        "system"
                                    ],
                                    "properties":{
                                        "configuration":{
                                            "$id":"#/properties/waybill/properties/loader/properties/configuration",
                                            "type":"object",
                                            "title":"Configuration",
                                            "properties":{
                                                "chunk_size":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/chunk_size",
                                                    "type":"integer",
                                                    "title":"Chunk_size",
                                                    "examples":[
                                                        100000
                                                    ],
                                                    "minimum": 1000,
                                                    "maximum": 1000000,
                                                    "multipleOf": 1000,
                                                    "default": 10000
                                                },
                                                "db":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/db",
                                                    "type":"string",
                                                    "title":"Db",
                                                    "default":"",
                                                    "examples":[
                                                        "GALIOM_MUR_LIVE"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                },
                                                "host":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/host",
                                                    "type":"string",
                                                    "title":"Host",
                                                    "default":"",
                                                    "examples":[
                                                        "10.8.33.95"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                },
                                                "load_type":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/load_type",
                                                    "type":"string",
                                                    "title":"Load_type",
                                                    "default":"",
                                                    "examples":[
                                                        "full"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                },
                                                "loader_type":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/loader_type",
                                                    "type":"string",
                                                    "title":"Loader_type",
                                                    "default":"",
                                                    "examples":[
                                                        "cursors"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                },
                                                "password":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/password",
                                                    "type":"string",
                                                    "title":"Password",
                                                    "default":"",
                                                    "examples":[
                                                        "galiomsa"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                },
                                                "port":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/port",
                                                    "type":"integer",
                                                    "title":"Port",
                                                    "default":0,
                                                    "examples":[
                                                        1433
                                                    ]
                                                },
                                                "tables":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/tables",
                                                    "type":"array",
                                                    "title":"Tables",
                                                    "items":{
                                                        "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/tables/items",
                                                        "type":"string",
                                                        "title":"Items",
                                                        "default":"",
                                                        "examples":[
                                                            "AR_CLASS_LINK_T"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    }
                                                },
                                                "user":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/user",
                                                    "type":"string",
                                                    "title":"User",
                                                    "default":"",
                                                    "examples":[
                                                        "galiom"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                }
                                            }
                                        },
                                        "system":{
                                            "$id":"#/properties/waybill/properties/loader/properties/system",
                                            "type":"string",
                                            "title":"System",
                                            "default":"mssql",
                                            "enum":[
                                                "hana",
                                                "mssql",
                                                "hive"
                                            ],
                                            "pattern":"^(.*)$"
                                        }
                                    }
                                },
                                "unloaders":{
                                    "$id":"#/properties/waybill/properties/unloaders",
                                    "type":"array",
                                    "title":"Unloaders",
                                    "items":{
                                        "$id":"#/properties/waybill/properties/unloaders/items",
                                        "type":"object",
                                        "title":"Items",
                                        "required":[
                                            "configuration",
                                            "system"
                                        ],
                                        "properties":{
                                            "configuration":{
                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration",
                                                "type":"object",
                                                "title":"Configuration",
                                                "properties":{
                                                    "dataset":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/dataset",
                                                        "type":"string",
                                                        "title":"Dataset",
                                                        "default":"",
                                                        "examples":[
                                                            "GALIOM_MUR_LIVE"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    },
                                                    "location":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/location",
                                                        "type":"string",
                                                        "title":"Location",
                                                        "default":"",
                                                        "examples":[
                                                            "asia-southeast1"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    },
                                                    "project_id":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/project_id",
                                                        "type":"string",
                                                        "title":"Project_id",
                                                        "default":"",
                                                        "examples":[
                                                            "gcp-my-th-it-dev"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    },
                                                    "table":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/table",
                                                        "type":"string",
                                                        "title":"Table",
                                                        "default":"",
                                                        "examples":[
                                                            "AR_CLASS_LINK_T_bq"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    },
                                                    "write_type":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/write_type",
                                                        "type":"string",
                                                        "title":"Write_type",
                                                        "default":"",
                                                        "examples":[
                                                            "overwrite"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    }
                                                }
                                            },
                                            "system":{
                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/system",
                                                "type":"string",
                                                "title":"System",
                                                "default":"bq",
                                                "enum":[
                                                    "bq",
                                                    "gcs"
                                                ],
                                                "pattern":"^(.*)$"
                                            },
                                            "external":{
                                                "type":"object",
                                                "properties":{
                                                    "create":{
                                                        "type":"boolean"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "ScheduledKnerrir":{
            "title":"ScheduledKnerrir",
            "description":"Form for creating Scheduled Knerrir",
            "type":"object",
            "properties":{
                "apiVersion":{
                    "type":"string",
                    "default":"knerrir.hashmapinc.com/v1alpha1"
                },
                "kind":{
                    "type":"string"
                },
                "metadata":{
                    "$id":"#/definitions/metadata",
                    "type":"object",
                    "title":"Metadata",
                    "required":[
                        "name",
                        "namespace"
                    ],
                    "properties":{
                        "name":{
                            "$id":"#/definitions/metadata/properties/name",
                            "type":"string",
                            "title":"Name",
                            "default":"",
                            "examples":[
                                "sql-server-test-100120-143707"
                            ],
                            "pattern":"^(.*)$"
                        },
                        "namespace":{
                            "$id":"#/definitions/metadata/properties/namespace",
                            "type":"string",
                            "title":"Namespace",
                            "examples":[
                                "knerrir"
                            ],
                            "default": "knerrir",
                            "pattern":"^(.*)$"
                        }
                    }
                },
                "spec":{
                    "type":"object",
                    "properties":{
                        "concurrencyPolicy":{
                            "type":"string",
                            "enum": [
                                "Allow",
                                "Forbid"
                            ],
                            "default": "Forbid"
                        },
                        "failedRunHistoryLimit":{
                            "type":"integer",
                            "default": 5
                        },
                        "schedule":{
                            "type":"string"
                        },
                        "successfulRunHistoryLimit":{
                            "type":"integer",
                            "default": 5
                        },
                        "template":{
                            "type":"object",
                            "properties":{
                                "image":{
                                    "type":"string",
                                    "default": "asia.gcr.io/gcp-my-th-it-dev/knerrir:alpha"
                                },
                                "nodeSelector":{
                                    "type":"object",
                                    "properties":{
                                        "nodetype":{
                                            "type":"string",
                                            "default": "ingestion-jobs"
                                        }
                                    }
                                },
                                "waybill":{
                                    "$id":"#/properties/waybill",
                                    "type":"object",
                                    "title":"Waybill",
                                    "required":[
                                        "loader",
                                        "unloaders"
                                    ],
                                    "properties":{
                                        "loader":{
                                            "$id":"#/properties/waybill/properties/loader",
                                            "type":"object",
                                            "title":"Loader",
                                            "required":[
                                                "configuration",
                                                "system"
                                            ],
                                            "properties":{
                                                "configuration":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/configuration",
                                                    "type":"object",
                                                    "title":"Configuration",
                                                    "properties":{
                                                        "chunk_size":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/chunk_size",
                                                            "type":"integer",
                                                            "title":"Chunk_size",
                                                            "examples":[
                                                                100000
                                                            ],
                                                            "minimum": 1000,
                                                            "maximum": 1000000,
                                                            "multipleOf": 1000,
                                                            "default": 10000                                                            
                                                        },
                                                        "db":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/db",
                                                            "type":"string",
                                                            "title":"Db",
                                                            "default":"",
                                                            "examples":[
                                                                "GALIOM_MUR_LIVE"
                                                            ],
                                                            "pattern":"^(.*)$"
                                                        },
                                                        "host":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/host",
                                                            "type":"string",
                                                            "title":"Host",
                                                            "default":"",
                                                            "examples":[
                                                                "10.8.33.95"
                                                            ],
                                                            "pattern":"^(.*)$"
                                                        },
                                                        "load_type":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/load_type",
                                                            "type":"string",
                                                            "title":"Load_type",
                                                            "default":"",
                                                            "examples":[
                                                                "full"
                                                            ],
                                                            "pattern":"^(.*)$"
                                                        },
                                                        "loader_type":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/loader_type",
                                                            "type":"string",
                                                            "title":"Loader_type",
                                                            "default":"",
                                                            "examples":[
                                                                "cursors"
                                                            ],
                                                            "pattern":"^(.*)$"
                                                        },
                                                        "password":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/password",
                                                            "type":"string",
                                                            "title":"Password",
                                                            "default":"",
                                                            "examples":[
                                                                "galiomsa"
                                                            ],
                                                            "pattern":"^(.*)$"
                                                        },
                                                        "port":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/port",
                                                            "type":"integer",
                                                            "title":"Port",
                                                            "default":0,
                                                            "examples":[
                                                                1433
                                                            ]
                                                        },
                                                        "tables":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/tables",
                                                            "type":"array",
                                                            "title":"Tables",
                                                            "items":{
                                                                "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/tables/items",
                                                                "type":"string",
                                                                "title":"Items",
                                                                "default":"",
                                                                "examples":[
                                                                    "AR_CLASS_LINK_T"
                                                                ],
                                                                "pattern":"^(.*)$"
                                                            }
                                                        },
                                                        "user":{
                                                            "$id":"#/properties/waybill/properties/loader/properties/configuration/properties/user",
                                                            "type":"string",
                                                            "title":"User",
                                                            "default":"",
                                                            "examples":[
                                                                "galiom"
                                                            ],
                                                            "pattern":"^(.*)$"
                                                        }
                                                    }
                                                },
                                                "system":{
                                                    "$id":"#/properties/waybill/properties/loader/properties/system",
                                                    "type":"string",
                                                    "title":"System",
                                                    "enum": [
                                                        "hana",
                                                        "mssql",
                                                        "hive"
                                                    ],
                                                    "default":"mssql",
                                                    "examples":[
                                                        "mssql"
                                                    ],
                                                    "pattern":"^(.*)$"
                                                }
                                            }
                                        },
                                        "unloaders":{
                                            "$id":"#/properties/waybill/properties/unloaders",
                                            "type":"array",
                                            "title":"Unloaders",
                                            "items":{
                                                "$id":"#/properties/waybill/properties/unloaders/items",
                                                "type":"object",
                                                "title":"Items",
                                                "required":[
                                                    "configuration",
                                                    "system"
                                                ],
                                                "properties":{
                                                    "configuration":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration",
                                                        "type":"object",
                                                        "title":"Configuration",
                                                        "properties":{
                                                            "dataset":{
                                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/dataset",
                                                                "type":"string",
                                                                "title":"Dataset",
                                                                "default":"",
                                                                "examples":[
                                                                    "GALIOM_MUR_LIVE"
                                                                ],
                                                                "pattern":"^(.*)$"
                                                            },
                                                            "location":{
                                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/location",
                                                                "type":"string",
                                                                "title":"Location",
                                                                "default":"",
                                                                "examples":[
                                                                    "asia-southeast1"
                                                                ],
                                                                "pattern":"^(.*)$"
                                                            },
                                                            "project_id":{
                                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/project_id",
                                                                "type":"string",
                                                                "title":"Project_id",
                                                                "default":"",
                                                                "examples":[
                                                                    "gcp-my-th-it-dev"
                                                                ],
                                                                "pattern":"^(.*)$"
                                                            },
                                                            "table":{
                                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/table",
                                                                "type":"string",
                                                                "title":"Table",
                                                                "default":"",
                                                                "examples":[
                                                                    "AR_CLASS_LINK_T_bq"
                                                                ],
                                                                "pattern":"^(.*)$"
                                                            },
                                                            "write_type":{
                                                                "$id":"#/properties/waybill/properties/unloaders/items/properties/configuration/properties/write_type",
                                                                "type":"string",
                                                                "title":"Write_type",
                                                                "default":"",
                                                                "examples":[
                                                                    "overwrite"
                                                                ],
                                                                "pattern":"^(.*)$"
                                                            }
                                                        }
                                                    },
                                                    "system":{
                                                        "$id":"#/properties/waybill/properties/unloaders/items/properties/system",
                                                        "type":"string",
                                                        "title":"System",
                                                        "default":"bq",
                                                        "enum":[
                                                            "bq",
                                                            "gcs"
                                                        ],
                                                        "pattern":"^(.*)$"
                                                    },
                                                    "external":{
                                                        "type":"object",
                                                        "properties":{
                                                            "create":{
                                                                "type":"boolean"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "required":[
                                "image"
                            ]
                        }
                    }
                }
            }
        }
    }
}